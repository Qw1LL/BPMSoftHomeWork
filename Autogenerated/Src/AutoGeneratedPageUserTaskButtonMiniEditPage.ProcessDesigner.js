/**
 * Parent: BaseProcessMiniEditPage
 */
define("AutoGeneratedPageUserTaskButtonMiniEditPage", ["BPMSoft",
		"AutoGeneratedPageUserTaskButtonMiniEditPageResources"],
	function(BPMSoft, resources) {
	return {
		attributes: {
			/**
			 * Title of button.
			 * @type {BPMSoft.dataValueType.TEXT}
			 */
			"Caption": {
				"dataValueType": this.BPMSoft.DataValueType.TEXT,
				"type": this.BPMSoft.ViewModelColumnType.VIRTUAL_COLUMN,
				"caption": resources.localizableStrings.NameCaption,
				"isRequired": true
			},
			/**
			 * Code of button
			 * @type {BPMSoft.dataValueType.TEXT}
			 */
			"Name": {
				"dataValueType": this.BPMSoft.DataValueType.TEXT,
				"type": this.BPMSoft.ViewModelColumnType.VIRTUAL_COLUMN,
				"caption": resources.localizableStrings.CodeCaption,
				"isRequired": true
			},
			/**
			 * Style of button.
			 * @type {BPMSoft.dataValueType.LOOKUP}
			 */
			"Style": {
				"dataValueType": this.BPMSoft.DataValueType.LOOKUP,
				"type": this.BPMSoft.ViewModelColumnType.VIRTUAL_COLUMN,
				"caption": resources.localizableStrings.StyleCaption,
				"isRequired": true
			},
			/**
			 * Signal of button.
			 * @type {BPMSoft.dataValueType.TEXT}
			 */
			"GenerateSignal": {
				"dataValueType": this.BPMSoft.DataValueType.TEXT,
				"type": this.BPMSoft.ViewModelColumnType.VIRTUAL_COLUMN,
				"caption": resources.localizableStrings.GenerateSignalCaption
			},
			/**
			 * Enabled property of button.
			 * @type {BPMSoft.dataValueType.BOOLEAN}
			 */
			"IsEnabled": {
				"dataValueType": this.BPMSoft.DataValueType.BOOLEAN,
				"type": this.BPMSoft.ViewModelColumnType.VIRTUAL_COLUMN,
				"caption": resources.localizableStrings.IsEnabledCaption,
				"doAutoSave": true,
				"initMethod": "initProperty"
			},
			/**
			 * Perform validation property of button.
			 * @type {BPMSoft.dataValueType.BOOLEAN}
			 */
			"PerformValidation": {
				"dataValueType": this.BPMSoft.DataValueType.BOOLEAN,
				"type": this.BPMSoft.ViewModelColumnType.VIRTUAL_COLUMN,
				"caption": resources.localizableStrings.PerformValidationCaption,
				"doAutoSave": true,
				"initMethod": "initProperty"
			},
			/**
			 * Parent view model's collection.
			 * @type {BPMSoft.dataValueType.COLLECTION}
			 */
			"ParentCollection": {
				"dataValueType": this.BPMSoft.DataValueType.COLLECTION,
				"type": this.BPMSoft.ViewModelColumnType.VIRTUAL_COLUMN
			}
		},
		methods: {
			//region Methods: Protected

			/**
			 * The event handler for preparing of the data drop-down StyleList.
			 * @protected
			 * @param {Object} filter Filters for data preparation.
			 * @param {BPMSoft.Collection} list The data for the drop-down list.
			 */
			prepareStyleList: function(filter, list) {
				if (!list) {
					return;
				}
				list.clear();
				list.loadAll(this.get("StyleCollection"));
			},

			/**
			 * @inheritdoc BaseSchemaViewModel#setValidationConfig
			 * @overridden
			 */
			setValidationConfig: function() {
				this.callParent(arguments);
				this.addColumnValidator("Name", this.nameValidator);
				this.addColumnValidator("Name", this.duplicateValueValidator);
				this.addColumnValidator("Caption", this.duplicateValueValidator);
			}

			//endregion
		},
		diff: /**SCHEMA_DIFF*/ [{
			"operation": "insert",
			"parentName": "Controls",
			"propertyName": "items",
			"name": "Caption",
			"values": {
				"itemType": this.BPMSoft.ViewItemType.TEXT,
				"value": {
					"bindTo": "Caption"
				},
				"isRequired": true,
				"classes": {
					"labelClass": ["t-label-proc"]
				},
				"layout": {
					"column": 0,
					"row": 0,
					"colSpan": 24
				},
				"wrapClass": ["top-caption-control"]
			}
		}, {
			"operation": "insert",
			"parentName": "Controls",
			"propertyName": "items",
			"name": "Name",
			"values": {
				"itemType": this.BPMSoft.ViewItemType.TEXT,
				"value": {
					"bindTo": "Name"
				},
				"isRequired": true,
				"classes": {
					"labelClass": ["t-label-proc"]
				},
				"layout": {
					"column": 0,
					"row": 1,
					"colSpan": 24
				},
				"wrapClass": ["top-caption-control"]
			}
		},
		{
			"operation": "insert",
			"name": "Style",
			"parentName": "Controls",
			"propertyName": "items",
			"values": {
				"contentType": this.BPMSoft.ContentType.ENUM,
				"controlConfig": {
					"prepareList": {
						"bindTo": "prepareStyleList"
					}
				},
				"layout": {
					"column": 0,
					"row": 2,
					"colSpan": 24
				},
				"wrapClass": ["top-caption-control"]
			}
		},
		{
			"operation": "insert",
			"parentName": "Controls",
			"propertyName": "items",
			"name": "GenerateSignal",
			"values": {
				"itemType": this.BPMSoft.ViewItemType.TEXT,
				"value": {
					"bindTo": "GenerateSignal"
				},
				"classes": {
					"labelClass": ["t-label-proc"]
				},
				"layout": {
					"column": 0,
					"row": 3,
					"colSpan": 24
				},
				"wrapClass": ["top-caption-control"]
			}
		},
		{
			"operation": "insert",
			"parentName": "Controls",
			"propertyName": "items",
			"name": "IsEnabled",
			"values": {
				"layout": {
					"column": 0,
					"row": 4,
					"colSpan": 24
				},
				"wrapClass": ["t-checkbox-control"]
			}
		},
		{
			"operation": "insert",
			"parentName": "Controls",
			"propertyName": "items",
			"name": "PerformValidation",
			"values": {
				"layout": {
					"column": 0,
					"row": 5,
					"colSpan": 24
				},
				"wrapClass": ["t-checkbox-control"]
			}
		}] /**SCHEMA_DIFF*/
	};
});
